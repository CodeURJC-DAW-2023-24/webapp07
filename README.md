<h1 align="center">
	🌱 SeedVentures
</h1>

<p align="center">
	<b><i>Seed Change, Grow Dreams: Your Investment, Their Revolution.</i></b><br>
</p>

<h3 align="center">
	<a href="#phase-0">Phase 0</a>
	<span> · </span>
	<a href="#phase-1">Phase 1</a>
</h3>

---

<h1 align="center" id="phase-0">
  💡 Phase 0
</h1>
<h2>
  🤓 Team members
</h2>

| Name | Email | Github |
|-----------|-----------|-----------|
| Marcos Hernangil Prats | m.hernangil.2021@alumnos.urjc.es  | [mhernangilp](https://github.com/mhernangilp)  |
| Pablo Requejo Postlbauer  | p.requejo.2021@alumnos.urjc.es  | [pablorpost](https://github.com/pablorpost)  |
| Diego Isaac Fernández Conde  | di.fernandez.2021@alumnos.urjc.es  | [Diego-G19](https://github.com/Diego-G19) |
| Fernando Alonso Calderon  | f.alonso.2021@alumnos.urjc.es  |  [fernandoalonsoo](https://github.com/fernandoalonsoo)  |
| Miguel Ángel García Martínez  | ma.garciam.2021@alumnos.urjc.es  | [magarciam2003](https://github.com/magarciam2003)  |

<h2>
  📋 Team coordination
</h2>

To coordinate the team, we will use [trello](https://trello.com/b/jgaJf9H5/fundme).

<h2>
  🎯 Main aspects
</h2>

<h3>
  👤 Entities
</h3>

- User
- Investment
- Project
- Comment
- Review

<h4>
  👥 Relations
</h4>

- A user makes an investment into a project
- A user leaves a comment on a project

<h3>
  🔐 User permissions
</h3>

- **User:** Can invest in projects or upload/delete theirs. They can post comments on any project available.
- **Guest:** Can log in, sign up or see the projects available to invest.
- **Admin:** Unlimited access, is the owner of all the entities.

<h3>
  🖼️ Images
</h3>

- **Project pictures:** A gallery of pictures which allows the Project Owner to show information about his/her project.
- **User profile picture:** A picture which identifies each user.

<h3>
  📊 Graphics
</h3>

- **Progress bar:** Monitorize the status of the objective.
- **Pie chart:** Shows the percentage of money invested by each investor.

<h3>
  🤖 Complementary technology
</h3>

- **Email:** Email notifications for users.
- **PDF:** Generates a PDF summarizing the user´s transactions.

<h3>
  ⚙️ Advanced algorithm or query
</h3>

- **Recommendation:** Users will be recommended projects which they are likely to donate to. This will be made using a greedy algorithm, that allows a 1% less likeliness between users' previous donations in each iteration, until a sufficient numbers of users are encountered to make the suggestions.

<h1 align="center" id="phase-1">
  📏 Phase 1
</h1>

<h2>
  📸 Screenshots
</h2>
<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/1b896b39-6f35-4cef-b8c2-4aa52b974b1f">
</p>


**Main page:** On this screen, you can see the options to log in and register, as well as access information about the page such as collaborators, the team, contact, and others.

---

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/16443736-510e-445a-9ba4-2a20afad59a8">
</p>



**Trending projects:** By scrolling the main page, the user will see the most popular projects at the time, which can be opened to see more information about it. If the user is logged, the page will show personalised reccomendations.

---

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/91d00038-dcaa-44b7-917c-4669e9c6e93b">
</p>

**Sign in:** This page allows new users to create an account. In order to create it, the user will have to fill in all the neccessary information.

---

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/8efd070a-5835-4a99-9b13-364a289ac3c4">
</p>


**Log in:** This page will allow both users and administrators to log in in order to access the web's functionalities. If the user doesn´t have an account, he will be able to create one.

---

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/c7984c9e-9eaa-4cb8-8469-0e9a43e103bc">
</p>

**Project:** This page shows more information about a project, besides its graphics and statistics.

---

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/4f5dc6fd-683e-49c4-8ae0-5d77e4e80519">
</p>



**Recommended projects:** When the user is logged in the projects shown according to users preferences.


---

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/c8474c7f-a3da-414b-873e-08f58219b8b2">
</p>

**My projects:** This page allows logged users to see their own projects.

---

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/e542c798-1774-48d0-bf33-b73f710c8c01">
</p>

**Upload project:** This page allows a logged user to upload a new project, filling in the different information needed for the project, as well as the image gallery.

---

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/a86077e3-1456-4a73-9dfa-85f1a7ffae25">
</p>

**Edit project:** This page allows a logged user to edit their projects.

---

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/91442e51-ad35-4c65-bdaf-1fdc5b4cb9f2">
</p>

**Profile photo:** By clicking in the photo, logged users can both see and edit their personal information and log out, which would send them back to the guest page.

---

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/f0646666-edec-4bf1-9d25-52b0548c6d9a">
</p>

**Edit profile:** This page shows a logged user his/her account information in order to change their information.


---

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/1e9ae59b-afa9-4a2c-aded-9702fcc26d84">
</p>

**Ranking:** This page shows a ranking of the top investors and allso the current top projects.

---
<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/e5762204-d62c-4e31-9dc4-6b75da81be25">
</p>

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/66eb5ff6-7c2b-4809-ac7c-8e8df154bf56">
</p>


**Error page:** This pages show an error in case something goes wrong.

---

<h2>
  🚢 Navigation diagram
</h2>
<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/117302583/f4038a71-15b6-4863-890e-73e6c845ba1d">

</p>
<h1 align="center" id="phase-0">
  💡 Phase 2
</h1>
<h2> 
	Execution instructions
 </h2>

You'll have to download the code from the repository and unzip it, open the code with an ide preferably IntelliJ Idea, we used the Ultimate version 2023.3.4  
The following software is required to run the application:
- Java 21.0.2
> Installing Java 21
> - Linux:  
> Write in the terminal:
> ```shell
> sudo apt install openjdk-21
> ```
> - Windows:
> Go to the [Oracle website](https://www.oracle.com/java/technologies/downloads/) and download the installer __jdk-21_windows-x64_bin__, then follow the instructions.
- Apache Maven 4.0.0
> - Linux:  
> 
> Go to the [Apache Maven website](https://maven.apache.org/download.cgi) and download the binary tar.gz file __apache-maven-4.0.0-alpha-12-src.tar.gz__.
> Then open the terminal and go to the folder where the file was downloaded and write the following command:
> ```shell
> sudo tar xf apache-maven-*.tar.gz -C /opt
> sudo ln -s /opt/apache-maven-3.8.4 /opt/maven
> sudo nano /etc/profile.d/maven.sh
> ```
> Then write in the file:
> ```shell
> export JAVA_HOME=/usr/lib/jvm/default-java
> export M2_HOME=/opt/maven
> export MAVEN_HOME=/opt/maven
> export PATH=${M2_HOME}/bin:${PATH}
> ```
> - Windows:  
> Go to the [Apache Maven website](https://maven.apache.org/download.cgi) and download the binary zip file __apache-maven-4.0.0-alpha-12-bin.zip__, then follow the instructions.

- MySQL Server 8.0
> - Linux:
> Write in the terminal:
> ```shell
> sudo apt install mysql-server=8.0.36
> ```
> - Windows:
> Go to the [MySQL website](https://dev.mysql.com/downloads/) and download the installer in the linked associated with the text __"MySQL Installer for Windows"__, then follow the instructions, it's important to select full installation if you want workbench as well.  
>
>
> In the installation process, it's important to select the following options:
>   - Port: 3306
>   - User: root
>   - Password: sqlsql  
> 
You'll have to create a database in MySQL with the following command in the MySQL terminal or in a MySQL client, like MySQL Workbench:
```sql
CREATE SCHEMA seedventures;
```
The run the main class [src/main/java/com/daw/webapp07/Webapp07Application.java](src/main/java/com/daw/webapp07/Webapp07Application.java)  
After that you should be able to use the web at [https://https://localhost:8443/](https://https://localhost:8443/)

<h2>
   Database diagram
</h2>

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/b10c524e-6fcb-4a46-9f7c-190e442a76d4">
</p>

<h2>
   Classes and templates diagram
</h2>

<p align="center">
	<img alt="screenshot" src="https://github.com/CodeURJC-DAW-2023-24/webapp07/assets/118292819/350916b4-c49d-470c-a56f-2bf619008c7f">
</p>

<h2>
   Participation
</h2>

<h3>
  Pablo
</h3>

**Tasks:**
- I created mustache templates from the previous phase HTMLs.
- I made a recomendation algorithm in Java.
- I made exactly the same recomendation algorithm but now in SQL.
- I assisted in providing examples for the data initializer. And used them to test the database and algorithms.
- I helped in the creation of various controllers.
- I converted all the models to JPA entities.
- I contributed to resolving errors with pagination and bbdd.
- I changed from h2 to SQL, and helped my teammates in doing so in their devices.

**Top 5 commits:**
- [SQL recomendation algorithm](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/6f28fda996394f5a825ac8748a31485063f77ebe)
- [money over time chart](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/83dcec498356e944609a921c856be5718ffffbfe)
- [pie chart](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/8c998a55b3e0e7dd467300ccbc66a2d3bc48c0e8)
- [Java recomendation algorithm](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/51ee0ea512f9bad6276b744f2a0e08bc45769678)
- [bbdd projects](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/658270dff83f7f09ddd44cef9d229d683ce0eee7)

**Top 5 files:**
- [ProjectRepository](src/main/java/com/daw/webapp07/repository/ProjectRepository.java)
- [GraphicsService](src/main/java/com/daw/webapp07/service/GraphicsService.java)
- [ProjectController](src/main/java/com/daw/webapp07/controller/ProjectController.java)
- [UserController](src/main/java/com/daw/webapp07/controller/UserController.java)
- [DatabaseInitializer](src/main/java/com/daw/webapp07/service/DatabaseInitializer.java)


<h3>
  Diego
</h3>

**Tasks:** 
- I created mustache templates from the previous phase HTMLs.
- I developed the Image class along with its functionality, enabling the management of multiple photos in the database. Additionally, I implemented the necessary controllers to display photos from the database.
- I implemented web security measures, including the functionality for the login and signup pages.
- I designed a controller that runs universally, inserting data required in the header for each controller.
- I assisted in providing examples for the data initializer.
- I introduced the functionality for editing profiles, as well as the ability to change the template style.
- I contributed to resolving errors related to photos during the editing and creation of projects. Moreover, I revamped the associated templates.
- I integrated an email service, allowing our application to send emails to users when signing up or when their project reaches its goal.
- I developed controllers to handle general errors and created templates for login errors and general errors.
- I optimized the codebase by removing redundant code and templates. This involved redesigning some functions and templates to perform differently when necessary while retaining shared functionality.

**Top 5 commits:** 
- [security](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/86ec575ea3e6442141270efa49a27b67eb9af97e) 
- [images database](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/e66091db4831532cb9d1e2ed8db549708a4d4c39)
- [edit profile](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/a20978f2a903dde1dc130033ada9c96668d9172e)
- [dynamic navbar](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/0fef15573f05916c94e93572e38913d055088f26)
- [send email welcome](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/6074f6c4aed8ddf901e064069f701cee1d462187)

**Top 5 files:** 
- [WebSecurityConfig](src/main/java/com/daw/webapp07/security/WebSecurityConfig.java)
- [EmailService](src/main/java/com/daw/webapp07/service/EmailService.java)
- [Image](src/main/java/com/daw/webapp07/model/Image.java)
- [ProjectController](src/main/java/com/daw/webapp07/controller/ProjectController.java)
- [UserController](src/main/java/com/daw/webapp07/controller/UserController.java)

<h3>
  Fernando
</h3>

**Tasks:** 
- I developed the Pageable in order to load more projects, implementing depending on which type of user is trying to load more.
- If a logged user loads more projects, it will see some more recommeded projects.
- I created mustache new templates for errors and previous phase HTMLs.
- I created a responsive grid using a portfolio template that it also varies depending of the user.
- I designed a controller which makes requests to the service to get some projects from repository.
- I assisted in providing examples for the data initializer.
- I designed ajax functions and organised the mustache functions.
  
**Top 5 commits:** 
- [Load-more](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/f28753327306ad30f581f0e65b4632d5f9100cbc)
- [Load-recommended](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/d53d0bec850274e004b5da282d41781fc87ad732)
- [ProjectService](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/c1a8d8d2c5f5a163d27d8e1da273b6f91a633277)
- [error-page](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/59f1056807bead75f8a2c8d2c4c6697af94fec3b)
- [scripts](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/8e03f2a9eea3445b05adfb4acd232daeecf98015)

**Top 5 files:** 
- [Ajax.js](src/main/resources/static/js/ajax.js)
- [ProjectController](src/main/java/com/daw/webapp07/controller/ProjectController.java)
- [ProjectServie](src/main/java/com/daw/webapp07/service/ProjectService.java)
- [Main.js](src/main/resources/static/js/main.js)
- [Error](src/main/resources/templates/error-page.mustache)



<h3>
  Miguel Angel
</h3>

**Tasks:**
- I created some mustache templates from the previous phase HTMLs.
- I created example projects.
- I made the create project functionality and security.
- I made the donations functionality and security.
- I made the comments entity, functionality and security.
- I made the delete projects functionality and security.
- I participated in solving some errors regarding the login, edit project, and general security access.

**Top 5 commits:**
- [Create project](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/c27867383b8e829c94436651bb492e673d653028)
- [Delete project](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/67258c24d10590305710d8f81e660a9c64ede5e7)
- [Donation](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/47a4907e7510c0cf05490a18ca741f65d032571e)
- [Comments](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/6779a2c2a5284f456128c322a992817ae3e510f3)
- [Privileged access to project details](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/91abffca5f7191f8e2ce661f7a8864420af17f94)

**Top 5 files:**
- [Project Controller](src/main/java/com/daw/webapp07/controller/ProjectController.java)
- [WebSecurityConfig](src/main/java/com/daw/webapp07/security/WebSecurityConfig.java)
- [User Controller](src/main/java/com/daw/webapp07/controller/UserController.java)
- [Comment](src/main/java/com/daw/webapp07/model/Comment.java)
- [DatabaseInitializer](src/main/java/com/daw/webapp07/service/DatabaseInitializer.java)

<h3>
  Marcos Hernangil
</h3>

**Tasks:**
- I made My Projects section, where users can see their projects.
- I made the functionality to edit projects.
- I made the pdf conversion functionality where users can download the stats from their projects into .pdf format.
- I made the ranking part.
- I created some mustache templates from the previous phase HTMLs and new ones.
- I added new investments and projects in database for testing graphics.
- Some minor adjustments like project deletion protection.

**Top 5 commits:**
- [My Projects](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/207be75e68ca1781028f349aa3437c798760d69e)
- [Edit Project](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/e76ba167ec468248c8b1ce319b135932006b0f3d)
- [PDF download](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/84e450ad0244e53f41319a196a41186342f29cf8)
- [Ranking](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/7f94bc4dc47237be83402dd6ce2f41f0bc7c9c72)
- [Project deletion protection](https://github.com/CodeURJC-DAW-2023-24/webapp07/commit/905bd29cf5da24faf98cf0201f7e3587d4cdd424)

**Top 5 files:**
- [Project Controller](src/main/java/com/daw/webapp07/controller/ProjectController.java)
- [User Controller](src/main/java/com/daw/webapp07/controller/UserController.java)
- [PDF Controller](src/main/java/com/daw/webapp07/controller/PdfController.java)
- [PDF service](src/main/java/com/daw/webapp07/service/PdfService.java)
- [DatabaseInitializer](src/main/java/com/daw/webapp07/service/DatabaseInitializer.java)
